.container
  %h1 Todo List
  %div(data-bind="with: main.todos")
    %ul.todos(data-bind="foreach: todos")
      %li(data-bind="attr: {class: className}")
        %input(type="checkbox" data-bind="checked: completed")
        %span(data-bind="text: title")
    %a(data-bind="visible: allowClear, click: clearList") Clear List
    %input(type="text" placeholder="New Todo Title" data-bind="value: todoToAdd, event: {change: addTodoHandler}")

  %div(data-bind="with: main.eip")
    %p
      First name:
      %strong.first_name(data-bind="text: firstName") todo
      %button.btn.btn-important(data-bind="click: edit") Edit
    %p
      %input(data-bind="visible: state() == 'editing', value: firstNameEdit")
      %button.btn.btn-important(data-bind="click: save") Save


:javascript
  $(document).ready(function(){
    var todos = [ new Todo("Buy arduino"), new Todo("Eat lunch") ];
    dTodos = Todos.create(todos);
    main = {todos : dTodos, eip : EIP};
    ko.applyBindings(main);
  });
